:root {
  --bg: #0d1117;
  --panel: #161b22;
  --panel2: #1c2230;
  --border: #30363d;
  --fg: #e6edf3;
  --fg2: #c9d1d9;
  --dim: #8b949e;
  --accent: #f0a500;
  --gold: #c9a84c;
  --green: #3fb950;
  --blue: #58a6ff;
  --red: #cc3333;
  --hebrew-bg: #003a20; --hebrew-fg: #7eff9a;
  --greek-bg: #003a5a; --greek-fg: #7ecfff;
  --latin-bg: #3a003a; --latin-fg: #ff9fff;
  --kjv-bg: #5a3e00; --kjv-fg: #ffd700;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;background:var(--bg);color:var(--fg);font-family:'EB Garamond',serif;overflow:hidden}
/* ─ Scrollbar ─ */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
/* ─ Layout ─ */
#app{display:flex;flex-direction:column;height:100vh}
/* ─ Top bar ─ */
#topbar{background:#1e1e1e;border-bottom:1px solid var(--border);padding:8px 14px;display:flex;align-items:center;flex-wrap:wrap;gap:8px;flex-shrink:0}
#topbar .logo{font-family:'Cinzel',serif;font-size:15px;color:var(--accent);letter-spacing:1px;white-space:nowrap}
#topbar .sep{color:var(--border);font-size:18px;margin:0 4px}
.lbl{font-size:10px;color:var(--dim);text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}
.tinput{background:#0d1117;border:1px solid var(--border);color:var(--fg);padding:5px 9px;border-radius:4px;font-family:'EB Garamond',serif;font-size:13px;outline:none;width:170px;transition:border-color .2s}
.tinput:focus{border-color:var(--accent)}
.tbtn{background:var(--panel2);border:1px solid var(--border);color:var(--fg);padding:5px 12px;border-radius:4px;cursor:pointer;font-family:'EB Garamond',serif;font-size:13px;white-space:nowrap;transition:all .2s}
.tbtn:hover{background:#263040;border-color:var(--blue);color:var(--blue)}
.tbtn.accent{border-color:var(--accent);color:var(--accent)}
.tbtn.accent:hover{background:#2a1e00}
#status{font-size:11px;color:var(--dim);flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
/* ─ API key row ─ */
#apirow{background:#111822;border-bottom:1px solid var(--border);padding:5px 14px;display:flex;align-items:center;gap:8px;flex-shrink:0;flex-wrap:wrap}
#apirow .lbl{color:#4a7a4a}
#apikey{width:320px;font-family:'JetBrains Mono',monospace;font-size:11px}
/* ─ Main body ─ */
#main{display:flex;flex:1;min-height:0;gap:0}
/* ─ Scripture panel ─ */
#scripture-panel{display:flex;flex-direction:column;width:42%;min-width:300px;border-right:1px solid var(--border);flex-shrink:0}
#scripture-hdr{padding:6px 12px;background:var(--panel);border-bottom:1px solid var(--border);font-size:10px;color:var(--dim);text-transform:uppercase;letter-spacing:.8px;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}
#scripture-body{flex:1;overflow-y:auto;padding:14px 16px;font-family:'EB Garamond',serif;font-size:15px;line-height:1.7;background:#2b2b2b;cursor:default}
#scripture-body .verse-hdr{font-family:'Cinzel',serif;font-size:13px;color:var(--accent);margin:16px 0 4px;letter-spacing:.5px}
#scripture-body .divider{border:none;border-top:1px solid var(--border);margin:4px 0 10px}
#scripture-body .src-lbl{font-size:10px;color:var(--dim);text-transform:uppercase;letter-spacing:.5px;margin-top:8px;display:block}
#scripture-body .src-text{color:var(--fg2);line-height:1.7;margin-bottom:6px;cursor:pointer}
#scripture-body .src-text:hover{color:var(--fg)}
#scripture-body .word-span{cursor:pointer;border-radius:2px;transition:background .15s}
#scripture-body .word-span:hover{background:rgba(88,166,255,.15);color:#fff}
#scripture-body .word-span.clicked{background:#264f78;color:#fff}
#scripture-body .hl-hebrew{background:var(--hebrew-bg);color:var(--hebrew-fg);border-radius:2px}
#scripture-body .hl-greek{background:var(--greek-bg);color:var(--greek-fg);border-radius:2px}
#scripture-body .hl-latin{background:var(--latin-bg);color:var(--latin-fg);border-radius:2px}
#scripture-body .hl-kjv{background:var(--kjv-bg);color:var(--kjv-fg);border-radius:2px}
#scripture-hint{padding:5px 12px;font-size:10px;color:var(--dim);background:var(--panel);border-top:1px solid var(--border);flex-shrink:0}
/* ─ Right panel ─ */
#right-panel{flex:1;min-width:0;display:flex;flex-direction:column;background:var(--panel)}
/* ─ Tab bar ─ */
#tabbar{display:flex;background:var(--panel);border-bottom:1px solid var(--border);overflow-x:auto;flex-shrink:0;-webkit-overflow-scrolling:touch}
#tabbar::-webkit-scrollbar{height:2px}
.tab-btn{padding:9px 14px;font-family:'EB Garamond',serif;font-size:13px;color:var(--dim);cursor:pointer;white-space:nowrap;border-bottom:2px solid transparent;transition:all .2s;user-select:none;background:none;border-top:none;border-left:none;border-right:none}
.tab-btn:hover{color:var(--fg);background:rgba(255,255,255,.03)}
.tab-btn.active{color:var(--accent);border-bottom-color:var(--accent);background:var(--panel2)}
/* ─ Tab content ─ */
.tab-pane{display:none;flex:1;min-height:0;flex-direction:column;overflow:hidden}
.tab-pane.active{display:flex}
/* ─ Panels ─ */
.pane-hdr{padding:10px 14px 6px;display:flex;align-items:baseline;gap:10px;flex-shrink:0}
.pane-title{font-family:'Cinzel',serif;font-size:14px;color:var(--accent);letter-spacing:.5px}
.pane-sub{font-family:'EB Garamond',serif;font-size:14px;color:var(--fg);font-style:italic}
.pane-divider{height:1px;background:var(--border);margin:0 14px 8px;flex-shrink:0}
.pane-scroll{flex:1;overflow-y:auto;padding:8px 14px 14px}
/* ─ Text areas (readonly styled) ─ */
.text-area{background:#0d1117;border-radius:4px;padding:12px 14px;font-family:'EB Garamond',serif;font-size:14px;color:var(--fg2);line-height:1.8;min-height:120px}
.text-area .section-hdr{font-size:10px;font-family:'JetBrains Mono',monospace;color:var(--accent);text-transform:uppercase;letter-spacing:.8px;margin:14px 0 4px;display:block}
.text-area .divider{color:var(--border);display:block;margin-bottom:4px}
.text-area .word-title{font-family:'Cinzel',serif;font-size:22px;color:#fff;display:block;margin-bottom:4px}
.text-area .verse-ref{font-size:12px;color:var(--blue);display:block;margin-bottom:2px}
.text-area .verse-text{font-style:italic;color:var(--fg2);padding-left:12px;display:block;margin-bottom:10px}
.text-area .orig{font-family:'EB Garamond',serif;font-size:16px;color:var(--hebrew-fg);display:block;margin:4px 0}
.text-area .strongs{font-size:11px;color:var(--dim);display:block;margin-bottom:4px}
.text-area .gloss{font-size:15px;color:#fff;display:block;margin:4px 0}
.text-area .detail{font-size:13px;color:var(--fg2);display:block;padding-left:4px;margin-bottom:2px}
.text-area .body{font-size:13px;color:var(--fg2);display:block;padding-left:4px;line-height:1.7}
.text-area .dim{font-size:12px;color:var(--dim);font-style:italic;display:block;margin:4px 0}
.text-area .loading{text-align:center;color:var(--dim);font-style:italic;font-size:13px;padding:32px 0}
.text-area .book-hdr{font-size:11px;font-family:'JetBrains Mono',monospace;color:var(--accent);display:block;margin:12px 0 4px;text-transform:uppercase}
.text-area .ref{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--green);display:inline}
.text-area .hl{color:#ffd700;font-weight:600}
.text-area .text-line{color:var(--fg2);font-size:13px;display:block;padding-left:6px;margin-bottom:4px;line-height:1.6}
.text-area .bullet{color:var(--fg2);font-size:13px;display:block;padding-left:18px;margin-bottom:3px;text-indent:-12px}
.text-area .bullet::before{content:"• ";color:var(--accent)}
.text-area .scripture-ref{color:var(--blue);font-style:italic;font-size:12px}
.text-area .intro{color:#d0d8e4;font-size:14px;line-height:1.75;display:block;margin-bottom:10px}
.text-area .wiki-body{font-size:13px;color:var(--fg2);line-height:1.7;display:block;margin-bottom:10px}
.text-area .wiki-src{font-size:11px;color:var(--dim);font-style:italic;display:block;margin-top:8px}
.text-area .ch-title{font-family:'Cinzel',serif;font-size:20px;color:#fff;display:block;margin-bottom:4px}
.text-area .stat-key{font-size:13px;color:var(--fg);display:inline}
.text-area .stat-val{font-size:13px;color:var(--fg2);display:inline}
.text-area .first-verse{font-style:italic;font-size:14px;color:var(--fg2);display:block;padding-left:10px;border-left:2px solid var(--border);margin:8px 0 12px}
.text-area .theme{color:var(--green);font-size:13px;display:block;padding-left:6px;margin-bottom:2px}
.text-area .name{color:var(--blue);font-size:13px;display:inline}
.text-area .vs-num{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--green);display:inline-block;width:28px;cursor:pointer}
.text-area .vs-num:hover{color:var(--accent);text-decoration:underline}
.text-area .vs-snip{font-size:12px;color:var(--fg2)}
.text-area .xref-ref{font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--green);cursor:pointer;display:block;margin:8px 0 2px}
.text-area .xref-ref:hover{color:var(--accent);text-decoration:underline}
.text-area .xref-text{font-size:12px;color:var(--fg2);font-style:italic;padding-left:16px;display:block;margin-bottom:8px}
.text-area .dv-date{font-size:11px;color:var(--dim);font-family:'JetBrains Mono',monospace;display:block;margin-bottom:8px}
.text-area .dv-ref{font-family:'Cinzel',serif;font-size:22px;color:var(--accent);display:block;margin-bottom:8px;cursor:pointer}
.text-area .dv-ref:hover{color:var(--gold)}
.text-area .dv-verse{font-style:italic;font-size:16px;color:#fff;line-height:1.8;display:block;margin-bottom:12px;padding-left:8px}
.text-area .dv-reflect{font-size:13px;color:var(--fg2);display:block;margin-bottom:16px}
.text-area .dv-list-ref{color:var(--blue);font-size:13px;display:block;padding-left:12px;cursor:pointer;margin-bottom:2px}
.text-area .dv-list-ref:hover{color:var(--accent)}
.text-area .dv-list-refl{font-size:11px;color:var(--dim);font-style:italic;display:block;padding-left:24px;margin-bottom:6px}
.text-area .bk-ref{font-family:'Cinzel',serif;font-size:14px;color:var(--accent);display:block;margin:14px 0 3px;cursor:pointer}
.text-area .bk-ref:hover{color:var(--gold)}
.text-area .bk-verse{font-style:italic;font-size:13px;color:var(--fg2);display:block;padding-left:12px;margin-bottom:4px}
.text-area .bk-note{font-size:12px;color:var(--blue);display:block;padding-left:12px;margin-bottom:2px}
.text-area .bk-date{font-size:10px;color:var(--dim);display:block;padding-left:12px;margin-bottom:4px}
.text-area .bk-del{font-size:11px;color:var(--red);cursor:pointer;display:inline;padding:2px 6px;border-radius:3px;border:1px solid transparent}
.text-area .bk-del:hover{border-color:var(--red);background:rgba(204,51,51,.1)}
.text-area .cmp-src{font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--accent);text-transform:uppercase;display:block;margin:14px 0 2px}
.text-area .cmp-text{font-size:14px;color:var(--fg2);line-height:1.7;display:block;margin-bottom:8px;padding-left:6px}
/* ─ Input row ─ */
.input-row{display:flex;align-items:center;gap:8px;padding:6px 14px;flex-shrink:0;flex-wrap:wrap}
.input-row .lbl{min-width:fit-content}
.inp{background:#0d1117;border:1px solid var(--border);color:var(--fg);padding:5px 9px;border-radius:4px;font-family:'EB Garamond',serif;font-size:13px;outline:none;transition:border-color .2s}
.inp:focus{border-color:var(--blue)}
.btn{background:var(--panel2);border:1px solid var(--border);color:var(--fg);padding:5px 12px;border-radius:4px;cursor:pointer;font-family:'EB Garamond',serif;font-size:13px;white-space:nowrap;transition:all .2s}
.btn:hover{background:#263040;border-color:var(--blue);color:var(--blue)}
.btn.accent-btn{border-color:var(--accent);color:var(--accent)}
.btn.accent-btn:hover{background:#2a1e00}
.btn.green-btn{border-color:var(--green);color:var(--green)}
.btn.green-btn:hover{background:#0d2010}
.count-lbl{font-size:11px;color:var(--dim)}
/* ─ Radio/check group ─ */
.filter-row{display:flex;align-items:center;gap:6px;padding:0 14px 6px;flex-shrink:0;flex-wrap:wrap}
.radio-btn{background:var(--panel);border:1px solid var(--border);color:var(--dim);padding:3px 10px;border-radius:3px;cursor:pointer;font-size:11px;transition:all .2s}
.radio-btn.active{color:var(--accent);border-color:var(--accent);background:var(--panel2)}
.check-btn{background:var(--panel);border:1px solid var(--border);color:var(--dim);padding:3px 10px;border-radius:3px;cursor:pointer;font-size:11px;transition:all .2s;user-select:none}
.check-btn.active{color:var(--green);border-color:var(--green);background:rgba(63,185,80,.08)}
/* ─ Orthodox layout ─ */
#oc-split{display:flex;flex:1;min-height:0;overflow:hidden}
#oc-nav{width:200px;flex-shrink:0;border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden}
#oc-search{padding:8px;border-bottom:1px solid var(--border);flex-shrink:0}
#oc-list{flex:1;overflow-y:auto}
.oc-heading{padding:6px 8px 4px;font-size:10px;font-family:'JetBrains Mono',monospace;color:var(--gold);text-transform:uppercase;letter-spacing:.5px;cursor:pointer;user-select:none}
.oc-heading:hover{background:rgba(200,160,76,.08)}
.oc-item{padding:4px 8px 4px 20px;font-size:12px;color:var(--fg2);cursor:pointer;user-select:none;line-height:1.4;border-radius:2px}
.oc-item:hover{background:var(--panel2);color:var(--fg)}
.oc-item.active{background:#1c3a5c;color:#fff}
#oc-content{flex:1;min-width:0;display:flex;flex-direction:column;overflow:hidden}
#oc-title{padding:8px 14px 4px;font-family:'Cinzel',serif;font-size:15px;color:var(--gold);flex-shrink:0}
/* ─ Plans layout ─ */
#plan-split{display:flex;flex:1;min-height:0;overflow:hidden}
#plan-nav{width:180px;flex-shrink:0;border-right:1px solid var(--border);padding:10px;overflow-y:auto;display:flex;flex-direction:column;gap:4px}
.plan-radio{display:flex;align-items:flex-start;gap:8px;padding:6px 8px;border-radius:4px;cursor:pointer;user-select:none;font-size:13px;color:var(--fg2);transition:all .2s}
.plan-radio:hover{background:var(--panel2);color:var(--fg)}
.plan-radio.active{background:var(--panel2);color:var(--accent)}
.plan-radio input{accent-color:var(--accent);margin-top:2px}
#plan-progress{font-size:11px;color:var(--green);padding:0 8px;line-height:1.5}
#plan-list{flex:1;min-width:0;overflow-y:auto}
.plan-day{display:flex;align-items:flex-start;gap:8px;padding:5px 10px;cursor:pointer;transition:background .15s;border-radius:2px}
.plan-day:hover{background:var(--panel2)}
.plan-day-check{width:14px;height:14px;border:1px solid var(--border);border-radius:2px;flex-shrink:0;display:flex;align-items:center;justify-content:center;margin-top:2px;font-size:10px;color:var(--green);transition:all .2s}
.plan-day-check.done{background:var(--panel2);border-color:var(--green)}
.plan-day-lbl{font-size:11px;font-family:'JetBrains Mono',monospace;color:var(--dim);width:45px;flex-shrink:0}
.plan-day-text{font-size:12px;color:var(--fg2);line-height:1.5}
.plan-day.done .plan-day-text{color:var(--dim);text-decoration:line-through}
.plan-day.done .plan-day-lbl{color:#444}
/* ─ Daily verse ─ */
#dv-nav{display:flex;gap:8px;padding:0 14px 8px;align-items:center;flex-shrink:0;flex-wrap:wrap}
/* ─ Compare sources ─ */
#cmp-sources{display:flex;flex-wrap:wrap;gap:6px;padding:0 14px 8px;flex-shrink:0}
/* ─ Tooltip ─ */
#tooltip{position:fixed;background:#3a3a3a;color:#fff;font-size:12px;padding:6px 10px;border-radius:4px;pointer-events:none;display:none;z-index:999;max-width:420px;line-height:1.5;font-family:'EB Garamond',serif;box-shadow:0 4px 16px rgba(0,0,0,.5)}
/* ─ Responsive ─ */
@media(max-width:768px){
  html,body{overflow:auto}
  #app{height:auto;min-height:100vh;overflow:visible}
  #main{flex-direction:column;overflow:visible}
  #scripture-panel{width:100%;border-right:none;border-bottom:1px solid var(--border);height:45vh;min-height:220px}
  #right-panel{min-height:60vh}
  .tab-pane.active{min-height:60vh}
  #oc-split{flex-direction:column}
  #oc-nav{width:100%;height:120px;border-right:none;border-bottom:1px solid var(--border)}
  #oc-list{display:flex;flex-direction:row;overflow-x:auto;overflow-y:hidden;gap:0}
  #plan-split{flex-direction:column}
  #plan-nav{width:100%;max-height:150px;overflow-x:auto;flex-direction:row;flex-wrap:wrap;border-right:none;border-bottom:1px solid var(--border)}
  #topbar{padding:6px 10px}
  .tinput{width:140px}
  #apikey{width:200px}
}
@media(max-width:480px){
  .tab-btn{padding:7px 10px;font-size:12px}
  .text-area{font-size:13px}
  #scripture-body{font-size:14px}
}
/* ─ Spinner ─ */
@keyframes spin{to{transform:rotate(360deg)}}
.spinner{display:inline-block;width:14px;height:14px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .7s linear infinite;vertical-align:middle}
/* ─ Usages split ─ */
#word-split{display:flex;flex-direction:column;flex:1;min-height:0}
#word-top{flex:0 0 45%;min-height:100px;overflow-y:auto;border-bottom:1px solid var(--border)}
#word-bottom{flex:1;min-height:0;overflow-y:auto}
